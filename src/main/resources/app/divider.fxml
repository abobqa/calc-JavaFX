<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import app.CircuitView?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml"
            fx:controller="app.contollers.DividerController"
            prefWidth="1000" prefHeight="580"
            style="-fx-background-color: linear-gradient(to bottom right, #f4f6f7, #d6e0f0);">

    <!-- Верхняя панель -->
    <top>
        <VBox spacing="6" style="-fx-background-color: white; -fx-padding: 10 15 10 15; -fx-background-radius: 0 0 8 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 4,0,0,1);">
            <Label text="Калькулятор делителя напряжения" textFill="#2c3e50">
                <font>
                    <Font name="System Bold" size="16"/>
                </font>
            </Label>

            <!-- первая строка -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Vin:" textFill="#2c3e50"/>
                <TextField fx:id="vinField" prefWidth="80"/>

                <Label text="Vout:" textFill="#2c3e50"/>
                <TextField fx:id="voutTargetField" prefWidth="80"/>

                <Label text="Допуск (±%):" textFill="#2c3e50"/>
                <TextField fx:id="tolField" prefWidth="60" text="1"/>

                <Label text="Rmin (Ω):" textFill="#2c3e50"/>
                <TextField fx:id="rminField" prefWidth="90" text="10"/>

                <Label text="Rmax (Ω):" textFill="#2c3e50"/>
                <TextField fx:id="rmaxField" prefWidth="100" text="1000000"/>
            </HBox>

            <!-- вторая строка -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Серия:" textFill="#2c3e50"/>
                <ChoiceBox fx:id="seriesChoice" prefWidth="100"/>

                <Label text="Макс. деталей:" textFill="#2c3e50"/>
                <ChoiceBox fx:id="maxPartsChoice" prefWidth="80"/>

                <Button text="Найти" onAction="#onSearch"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 4 14;"/>

                <Label fx:id="statusLabel" textFill="#2c3e50" style="-fx-font-style: italic;"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Button text="История" onAction="#onHistory"
                        style="-fx-background-color: #bdc3c7; -fx-text-fill: #2c3e50; -fx-background-radius: 6; -fx-padding: 4 12;"/>
                <Button text="Назад" onAction="#onBack"
                        style="-fx-background-color: #bdc3c7; -fx-text-fill: #2c3e50; -fx-background-radius: 6; -fx-padding: 4 12;"/>
                <Button text="Выйти" onAction="#onLogout"
                        style="-fx-background-color: #bdc3c7; -fx-text-fill: #2c3e50; -fx-background-radius: 6; -fx-padding: 4 12;"/>
            </HBox>
        </VBox>
    </top>


    <center>
        <SplitPane dividerPositions="0.7">
            <items>
                <!-- Левая часть: таблица -->
                <VBox VBox.vgrow="ALWAYS" SplitPane.resizableWithParent="true">
                    <TableView fx:id="table" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colVout" text="Vout" prefWidth="80"/>
                            <TableColumn fx:id="colErr" text="Δ%" prefWidth="70"/>
                            <TableColumn fx:id="colParts" text="N" prefWidth="30"/>
                            <TableColumn fx:id="colPower" text="P,Вт" prefWidth="80"/>
                            <TableColumn fx:id="colR1" text="R1Σ" prefWidth="90"/>
                            <TableColumn fx:id="colR2" text="R2Σ" prefWidth="90"/>
                            <TableColumn fx:id="colR1List" text="R1" prefWidth="120"/>
                            <TableColumn fx:id="colR2List" text="R2" prefWidth="120"/>
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                        </columnResizePolicy>
                    </TableView>
                </VBox>

                <!-- Правая часть: схема -->
                <VBox alignment="TOP_CENTER" spacing="8" VBox.vgrow="ALWAYS"
                      SplitPane.resizableWithParent="true" minWidth="350">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <Label text="Схема выбранного делителя" textFill="#2c3e50">
                        <font><Font size="14"/></font>
                    </Label>
                    <app.CircuitView fx:id="circuit" VBox.vgrow="ALWAYS"/>
                </VBox>
            </items>
        </SplitPane>
    </center>


</BorderPane>
